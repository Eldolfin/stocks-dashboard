FROM node:lts-alpine AS builder
WORKDIR /app
RUN apk add --no-cache curl

COPY package*.json .
COPY svelte.config.js .
RUN npm install
RUN npm run prepare

EXPOSE 3000

CMD [ "npm", "run", "dev", "--", "--host" ]

HEALTHCHECK CMD curl -f -o /dev/null http://localhost:3000
